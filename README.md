# üß© Wiki Summarizer
–°–∫—Ä–∏–ø—Ç –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ —Å–∞–π—Ç—É **MediaWiki** (–Ω–∞–ø—Ä–∏–º–µ—Ä, Wikipedia), –ø–æ–ª—É—á–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –≤–∏–∫–∏-—Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏ –∏ –ø–µ—Ä–µ—Å–∫–∞–∑—ã–≤–∞–µ—Ç –µ–≥–æ –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ OpenAI.  
–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∫—Ä–∞—Ç–∫–∞—è —Å—Ç–∞—Ç—å—è –≤ –≤–∏–∫–∏-—Ñ–æ—Ä–º–∞—Ç–µ, –ø–æ–Ω—è—Ç–Ω–∞—è —à–∫–æ–ª—å–Ω–∏–∫—É 8‚Äì9 –∫–ª–∞—Å—Å–∞.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ª—é–±–æ–º—É —Å–∞–π—Ç—É MediaWiki (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Äî `ru.ruwiki.ru`)
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —Å—Ç–∞—Ç—å–∏  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–≤  
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü  
- –ü–µ—Ä–µ—Å–∫–∞–∑ —Å—Ç–∞—Ç—å–∏ —á–µ—Ä–µ–∑ –º–æ–¥–µ–ª—å OpenAI (`gpt-4o-mini` –∏–ª–∏ –¥—Ä—É–≥—É—é)  
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è


## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
pip install -r requirements.txt
export OPENAI_API_KEY="sk-..."
```

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å:  
```bash
export USERNAME='name'  
export PASSWORD='password'  
```

–ò–ª–∏ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –ª–æ–≥–∏–Ω-–ø–∞—Ä–æ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:  
python3 wiki_summarize.py "–ö–≤–∞–Ω—Ç–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞" --uzername my_user --password qwerty  


## ‚ñ∂Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### 1. –ë–∞–∑–æ–≤—ã–π –≤—ã–∑–æ–≤
```bash
python3 wiki_summarize.py "–ò–∑–æ—Ç–æ–ø—ã"
```
–°–∫—Ä–∏–ø—Ç —Å–∫–∞—á–∞–µ—Ç —Å—Ç–∞—Ç—å—é ¬´–ò–∑–æ—Ç–æ–ø—ã¬ª —Å ru.ruwiki.ru –∏ –≤—ã–≤–µ–¥–µ—Ç –ø–µ—Ä–µ—Å–∫–∞–∑.

### 2. –î—Ä—É–≥–æ–π —Å–∞–π—Ç MediaWiki
```bash
python3 wiki_summarize.py "SomePage" --site example.org --path /w/
```
--site ‚Äî –¥–æ–º–µ–Ω MediaWiki-—Å–∞–π—Ç–∞ (–±–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞)
--path ‚Äî –ø—É—Ç—å –∫ API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é /w/)

### 3. –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏
```bash
python3 wiki_summarize.py "–ö–≤–∞–Ω—Ç–æ–≤–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞" --model gpt-5
```

### 4. –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä –≤ –æ–¥–Ω–æ–º –±–ª–æ–∫–µ
```bash
export OPENAI_API_KEY="sk-..."
pip install -r requirements.txt
python3 wiki_summarize.py "–§–æ—Ç–æ—Å–∏–Ω—Ç–µ–∑" --model gpt-4o-mini
```


# –°–±–æ—Ä–∫–∞ —á–µ—Ä–µ–∑ Docker
## üöÄ –ó–∞–ø—É—Å–∫
```bash
docker build -t wiki-summarizer-service .
docker run -p 8080:8080 -e OPENAI_API_KEY="sk-..." wiki-summarizer-service
```

## üîó –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
```bash
curl --get --data-urlencode "title=–ò–∑–æ—Ç–æ–ø—ã" http://localhost:8080/summarize
```

## –û—Ç–≤–µ—Ç:

{
  "title": "–ò–∑–æ—Ç–æ–ø—ã",
  "summary": "–ò–∑–æ—Ç–æ–ø—ã ‚Äî —Ä–∞–∑–Ω–æ–≤–∏–¥–Ω–æ—Å—Ç–∏ –∞—Ç–æ–º–æ–≤ –æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞...",
  "new_article_name": "–ò–Ω–∫—É–±–∞—Ç–æ—Ä:–ò–∑–æ—Ç–æ–ø—ã draft"
}
